---
import { Menu } from "@shared/ui/Menu/ui/menu";
import Layout from "@widgets/layouts/ui/single.astro";
import { Loader } from "@widgets/ui/Loader/ui/loader";
import { FullNewsPage } from "@widgets/ui/NewsPage/FullNewsPage";

// Access query parameters from the URL
const url = new URL(Astro.request.url);
const id = url.searchParams.get('id');
const title = url.searchParams.get('title');
const image = url.searchParams.get('image');
const text = url.searchParams.get('text');

// Assemble the news item based on passed query params
const newsItem = { id, title, image, text };

---

<!-- Render the NewsPage component with the simplified data -->
<Layout>
  <Loader client:load/>
  <Menu client:load />
  <FullNewsPage {...newsItem} />
</Layout>
